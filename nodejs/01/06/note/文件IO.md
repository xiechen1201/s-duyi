# 文件 IO

## I/O

I/O 也就是 input output。

对外部设备的输入输出：

- 磁盘

- 网卡

- 显卡

- 打印机

- ...

IO 的读写速度往往低于内存和cpu的交互速度。

## fs 模块

fs 模块是 Node.js 内置的文件系统模块，提供了一系列的 API 用于文件操作。

常用的 api：

- fs.readFile

    - 为什么使用回调函数的方式？因为读取文件需要一定的时间，如果同步的写法代码就会卡住。

    - 同步的写法 fs.readFileSync，一般不要使用，因为会导致 JS 运行阻塞，及其影响性能。通常，在程序启动的时候运行有限的次数即可。

- fs.writeFile

    - 写入文件的时候，如果文件名不存在则会创建一个文件，如果目录不存在，则会产生报错

- fs.stat 获取文件或目录信息

    - size 占用的字节数，当读取的是目录的时候 size 为0，目录在操作系统中是一个非常空的文件，该文件有一个指针记录了其他文件的地址

    - atime 上次访问的时间

    - mtime 上次修改的时间

    - ctime 上一次修改文件状态时间

    - birthtimeMs 文件创建的时间

    - isDirectory() 是否是目录

    - isFile() 是否是文件

- fs.readdir 获取目录中的文件和子目录

- fs.mkdir 创建一个目录

- fs.exists 判断文件或者目录是否存在