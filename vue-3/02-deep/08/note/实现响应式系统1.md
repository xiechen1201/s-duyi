# 实现响应式系统

核心内容：

- 监听数据的读写

- 关联数据和函数

数据变化后，相应的函数全部重新执行一下。

## 监听数据的读写

- 数据

    - Object.defineProperty 和 Proxy

- 读写，细分行为

    - 获取属性（读）

    - 设置属性（写）

    - 新增属性（写）

    - 删除属性（写）

    - 是否存在某个属性（读）

    - 遍历属性（读）

## 拦截后的行为

不同的行为，拦截后的处理也不一样：

- 收集器：收集依赖，建立数据和函数的依赖关系；

- 触发器：写入行为，触发器会工作，，触发数据所关联的函数，让函数重新执行。

行为对应的触发器：

- 获取属性（读）：收集

- 设置属性（写）：触发

- 新增属性（写）：触发

- 删除属性（写）：触发

- 是否存在某个属性（读）：收集

- 遍历属性（读）：收集

总结：涉及属性的访问，那就是收集器。涉及到任何属性的设置（新增、删除都算），那就是触发器。